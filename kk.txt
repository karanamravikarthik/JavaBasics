@RunWith(CamelTestRunner.class)
public class MyCamelRouteTest {

    @Mock
    private ProcessSummaryUtility processSummaryUtilityMock;

    @Mock
    private AfpFileService afpFileServiceMock;

    @Produce("direct:startAfpFileProcessing")
    private ProducerTemplate producer;

    @EndpointInject("mock:output")  // Replace "output" with your actual output endpoint name
    private MockEndpoint mockOutput;

    private MyCamelRoute myCamelRoute;

    @BeforeEach
    public void setUp() throws Exception {
        myCamelRoute = new MyCamelRoute(processSummaryUtilityMock, afpFileServiceMock);
    }

    @Test
    public void testProcessAfpFile() throws Exception {
        // Unit test ProcessSummaryUtility methods (refer to previous example)
        // ... your unit tests for ProcessSummaryUtility methods ...

        // Camel Test Kit portion
        String fileName = "test.afp";
        String expectedBody = "Processed " + fileName;

        producer.sendBody(fileName);

        mockOutput.expectedMessageCount(1);
        mockOutput.expectedBodiesReceived(expectedBody);

        mockOutput.assertIsSatisfied();

        // Optional: Verify interactions with mocked beans (if relevant)
        // verify(processSummaryUtilityMock, times(1)).setStartTime(any());
        // ... similar verifications for other methods if needed ...
    }
}
